{"version":3,"file":"static/js/491.f38bb2f3.chunk.js","mappings":"wKACA,G,QAA0B,0BAA1B,EAAkE,8BAAlE,EAA0G,yBAA1G,EAA4I,wBAA5I,EAA2K,sBAA3K,EAA0M,wBAA1M,EAA6O,0BAA7O,EAAiR,yBAAjR,EAAwT,6BAAxT,EAAsb,oCAAtb,EAA6e,kC,mBCwB7e,EAnB2B,SAACA,GAChB,OACI,0BAGE,SAAC,KAAD,CAASC,UAAW,qBAAGC,SAA4BC,EAAa,IAAMA,EAAcA,CAAhE,EAA6EC,GAAI,YAAcJ,EAAMK,GAAzH,UACM,iBAAKJ,UAAWE,EAAhB,WACI,gBAAKG,IAAI,6DAA6DC,IAAI,MAC1E,0BAAOP,EAAMQ,aAQhC,ECIT,EArB4B,SAACR,GAIjB,OAEI,gBAAKC,UAAWE,EAAhB,UACI,4BAII,gBAAKG,IAAI,6DAA6DC,IAAI,MAC1E,kBAAMN,UAAWE,EAAjB,cAAoCH,EAAMQ,KAA1C,OAAoDR,EAAMK,GAA1D,UACA,gCAAQL,EAAMS,KAAd,WAMf,E,uCChBHC,GAAcC,EAAAA,EAAAA,IAAiB,IAC/BC,GAAaC,EAAAA,EAAAA,IAAiB,GAqBpC,GAAeC,EAAAA,EAAAA,GAAU,CAAEC,KAAM,wBAAjC,EAnBuB,SAACf,GACpB,OACI,kBAAMC,UAAWE,EAAwBa,SAAUhB,EAAMiB,aAAzD,WACI,SAACC,EAAA,EAAD,CACIV,KAAK,iBACLW,KAAK,OACLC,MAAM,mBACNC,UAAWC,EAAAA,GACXC,KAAK,IACLC,YAAY,qBACZC,SAAU,CAACC,EAAAA,GAAUhB,EAAaE,MAGtC,mBAAQX,UAAWE,EAAnB,4BAIX,ICsBD,EAtCgB,SAACH,GAKb,IAAI2B,EAAiB3B,EAAM4B,YAAYC,WAAWC,KAAI,SAAAC,GAAC,OAAK,SAAC,EAAD,CAAuB1B,GAAI0B,EAAE1B,GAAIG,KAAMuB,EAAEvB,MAAxBuB,EAAE1B,GAAxB,IACnD2B,EAAkBhC,EAAM4B,YAAYK,YAAYH,KAAI,SAAAI,GAAC,OAAK,SAAC,EAAD,CAA+B7B,GAAI6B,EAAE7B,GAAIG,KAAM0B,EAAE1B,KAAMC,KAAMyB,EAAEzB,MAA7CyB,EAAEC,UAAzB,IAQzD,OACI,iBAAKlC,UAAWE,EAAhB,WACI,4CAEA,iBAAKF,UAAWE,EAAhB,WACI,iBAAKF,UAAWE,EAAhB,qBAEI,iBACCwB,MAGL,iBAAK1B,UAAWE,EAAhB,sBAEI,iBACC6B,GACD,SAAC,EAAD,CAAgBhB,SApBV,SAACoB,GACnBpC,EAAMqC,YAAYD,EAAME,eAE3B,YAsBJ,E,oBChBD,GAAeC,E,QAAAA,KACXC,EAAAA,EAAAA,KAtBkB,SAACC,GACnB,MAAO,CACHb,YAAaa,EAAMb,YAG1B,IAEwB,SAACc,GACtB,MAAO,CACHL,YAAa,SAACM,GACVD,GAASE,EAAAA,EAAAA,IAAyBD,GACzC,EAIA,IAQDE,EAAAA,EAFJ,CAGEC,E,mJC3BEC,EAA6B,SAACN,GAAD,MAAa,CACtCO,OAAQP,EAAMQ,KAAKD,OADM,EAMpBH,EAAmB,SAACK,GAAe,IAGtCC,EAHqC,0IAIvC,WACI,OAAKC,KAAKpD,MAAMgD,QACT,SAACE,GAAD,UAAeE,KAAKpD,SADI,SAAC,KAAD,CAAUI,GAAG,UAE/C,KAPsC,GAGXiD,EAAAA,WAQhC,OADqCb,EAAAA,EAAAA,IAAQO,EAARP,CAAoCW,EAE5E,C","sources":["webpack://gp-project/./src/components/Content/Dialogs/Dialogs.module.css?5cdb","components/Content/Dialogs/DialogItems/DialogItems.jsx","components/Content/Dialogs/MessageItems/MessageItems.jsx","components/common/Forms/AddMessageForm.jsx","components/Content/Dialogs/Dialogs.jsx","components/Content/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Dialogs_wrapper__CyQQV\",\"dialogWindow\":\"Dialogs_dialogWindow__dxxPE\",\"dialogs\":\"Dialogs_dialogs__PlHgS\",\"dialog\":\"Dialogs_dialog__2a6kQ\",\"user\":\"Dialogs_user__ME2vU\",\"active\":\"Dialogs_active__AEDqZ\",\"messages\":\"Dialogs_messages__47Nql\",\"message\":\"Dialogs_message__XQ66o\",\"userMessage\":\"Dialogs_userMessage__DmHzH\",\"activeM\":\"Dialogs_activeM__FKuFD\",\"addMessage\":\"Dialogs_addMessage__WDfZN\",\"onSendMessageClick\":\"Dialogs_onSendMessageClick__95tQw\",\"newMessageButton\":\"Dialogs_newMessageButton__z35tS\",\"NewMessagetTextarea\":\"Dialogs_NewMessagetTextarea__9C0GX\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport css from './../Dialogs.module.css';\r\n\r\n\r\n                        /* Выносим стрелочную функцию (работает как шаблон действий) */\r\n        const DialogItem = (props) => {\r\n            return (\r\n                <div>\r\n                    \r\n\r\n                  <NavLink className={({ isActive }) => (isActive ? (css.dialog + \" \" + css.active) : css.dialog)} to={'/dialogs/' + props.id}>\r\n                        <div className={css.user}>\r\n                            <img src=\"https://cdn1.flamp.ru/1ade70d2f2f936f3ced673e84d129204.jpg\" alt=\"\" />\r\n                            <span>{props.name}</span>\r\n                        </div>\r\n                    \r\n                </NavLink> \r\n\r\n                </div>\r\n                \r\n            )\r\n        }\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport css from './../Dialogs.module.css';\r\n\r\n\r\n                         /* Выносим стрелочную функцию (работает как шаблон действий) */\r\n        const MessageItem = (props) => {\r\n\r\n          \r\n\r\n            return (\r\n                \r\n                <div className={css.message}>\r\n                    <div >\r\n                    {/* <div className={({props.name}) => (props.name = \"Gennadij\" ? (css.message + \" \" + css.activeM) : css.message)}> */}\r\n                         \r\n\r\n                        <img src=\"https://cdn1.flamp.ru/1ade70d2f2f936f3ced673e84d129204.jpg\" alt=\"\" />\r\n                        <span className={css.userMessage}> {props.name} (ID{props.id}): </span>\r\n                        <div>- {props.text} </div>\r\n                          \r\n                    </div>\r\n                    \r\n                </div>\r\n            )\r\n        }   \r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator, minLengthCreator } from '../../../utils/validators';\r\nimport { Textarea } from '../FormsControls/FormsControls';\r\nimport css from './../../Content/Dialogs/Dialogs.module.css'\r\n\r\n\r\n\r\nconst maxLength15 = maxLengthCreator(15)\r\nconst minLength2 = minLengthCreator(2)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form className={css.onSendMessageClick} onSubmit={props.handleSubmit} >\r\n            <Field\r\n                name='newMessageText'\r\n                type='text'\r\n                label='Add your message'\r\n                component={Textarea}\r\n                rows='4' \r\n                placeholder='Enter your message' \r\n                validate={[required, maxLength15, minLength2]}\r\n                />\r\n            \r\n            <button className={css.newMessageButton} >Send message</button>\r\n\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default reduxForm({ form: 'dialogAddMessageForm' })(AddMessageForm)","import React from 'react';\r\nimport css from './Dialogs.module.css';\r\nimport DialogItem from './DialogItems/DialogItems';\r\nimport MessageItem from './MessageItems/MessageItems';\r\nimport AddMessageForm from '../../common/Forms/AddMessageForm';\r\n\r\n\r\n\r\n\r\n\r\n/* Выполнение UI (user Interface) */\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    /* Обработка массива, чтобы исключить повторения. */\r\n    /* Автоматически данные заносятся в новый массив из старого  */\r\n\r\n    let dialogElements = props.dialogsPage.dialogData.map(d => (<DialogItem key={d.id} id={d.id} name={d.name} />));\r\n    let messageElements = props.dialogsPage.messageData.map(m => (<MessageItem key={m.idMessage} id={m.id} name={m.name} text={m.text} />));\r\n\r\n\r\n    const addNewMessage = (value) => {\r\n        props.sendMessage(value.newMessageText);\r\n        // console.log(props.dialogsPage.messageData)\r\n    }\r\n\r\n    return (\r\n        <div className={css.wrapper} >\r\n            <h2> Dialog window</h2>\r\n\r\n            <div className={css.dialogWindow}>\r\n                <div className={css.dialogs}>\r\n                    Dialogs\r\n                    <p></p>\r\n                    {dialogElements}\r\n                </div>\r\n\r\n                <div className={css.messages}>\r\n                    Messages\r\n                    <p></p>\r\n                    {messageElements}\r\n                    <AddMessageForm onSubmit={addNewMessage} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Dialogs;","import { sendMessageActionCreator} from '../../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\n// import { connect } from 'react-redux/es/exports';\r\nimport { withAuthRedirect } from './../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        \r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newText) => {\r\n            dispatch(sendMessageActionCreator(newText))\r\n    },\r\n       \r\n        \r\n    }\r\n    }\r\n\r\n    /* HOC */\r\n// let AuthRedirectComponent = withAuthRedirect (Dialogs)\r\n\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\n// import { connect } from 'react-redux/es/exports';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ( {\r\n        isAuth: state.auth.isAuth,\r\n    });\r\n\r\n    \r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Navigate to='/login' /> \r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n"],"names":["props","className","isActive","css","to","id","src","alt","name","text","maxLength15","maxLengthCreator","minLength2","minLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","type","label","component","Textarea","rows","placeholder","validate","required","dialogElements","dialogsPage","dialogData","map","d","messageElements","messageData","m","idMessage","value","sendMessage","newMessageText","compose","connect","state","dispatch","newText","sendMessageActionCreator","withAuthRedirect","Dialogs","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this","React"],"sourceRoot":""}