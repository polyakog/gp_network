"use strict";(self.webpackChunkgp_project=self.webpackChunkgp_project||[]).push([[173],{8774:function(s,t,e){e.r(t),e.d(t,{default:function(){return Y}});var n=e(1413),r=e(5671),o=e(3144),i=e(136),a=e(2882),l=e(2791),c={main_pic_wrapper:"Profile_main_pic_wrapper__r6QXr",main_pic:"Profile_main_pic__S6tqL"},u=e(8286),d="ProfileInfo_avatar_description__vaEEx",p="ProfileInfo_avatar__XTTMY",f="ProfileInfo_UserStatus__MWXgf",h="ProfileInfo_active__mjtOh",_="ProfileInfo_description__8vX66",m="ProfileInfo_contacts__+o08u",x="ProfileInfo_user_name__cba2P",j="ProfileInfo_lookingForAJob__xX3MT",g="ProfileInfo_false__tXCww",v="ProfileInfo_status__FiiOA",b=e.p+"static/media/jobLooker.5222b7e3bc2bd1032175.webp",P=e(5896),N=e(885),Z=e(184),k=function(s){var t=(0,l.useState)(!1),e=(0,N.Z)(t,2),n=e[0],r=e[1],o=(0,l.useState)(s.status),i=(0,N.Z)(o,2),a=i[0],c=i[1];(0,l.useEffect)((function(){c(s.status)}),[s.status]);return(0,Z.jsxs)("div",{children:[!n&&(0,Z.jsx)("div",{className:f+" "+h,children:(0,Z.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"No status"})}),n&&(0,Z.jsxs)("div",{children:[(0,Z.jsx)("textarea",{className:f,onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,value:a}),(0,Z.jsxs)("div",{className:v,children:[(0,Z.jsxs)("button",{onClick:function(){r(!1)},children:["Cancel ",(0,Z.jsx)("i",{children:"\u293a"})]}),(0,Z.jsxs)("button",{onClick:function(){r(!1),s.updateUserStatus(a)},children:["Save ",(0,Z.jsx)("i",{children:"\u27bd"})]})]})]})]})},w=function(s){var t=s.profile,e=s.status,n=s.updateUserStatus;return t?(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsxs)("div",{className:p,children:[(0,Z.jsx)("img",{src:t.photos.large?t.photos.large:P,alt:"avatar"}),(0,Z.jsxs)("div",{children:["My status:",(0,Z.jsx)(k,{status:e,updateUserStatus:n})]})]}),(0,Z.jsxs)("div",{className:_,children:[(0,Z.jsx)("p",{className:x,children:t.fullName}),(0,Z.jsxs)("p",{children:["About me: ",t.aboutMe]}),(0,Z.jsxs)("p",{children:["ID: ",t.userId]}),(0,Z.jsx)("img",{src:b,alt:"looking for a job",className:t.lookingForAJob?j:j+" "+g}),(0,Z.jsxs)("p",{children:[" ",t.lookingForAJob?"Looking for a job: "+t.lookingForAJobDescription:null]}),(0,Z.jsx)("br",{}),(0,Z.jsxs)("div",{className:m,children:["Contacts:",(0,Z.jsxs)("ul",{children:[null!==t.contacts.facebook?(0,Z.jsxs)("li",{children:[" ","Facebook: "+t.contacts.facebook,"   "]}):null,null!==t.contacts.website?(0,Z.jsxs)("li",{children:[" ","Website: "+t.contacts.website,"      "]}):null,null!==t.contacts.vk?(0,Z.jsxs)("li",{children:["VK: "+t.contacts.vk,"                "]}):null,null!==t.contacts.github?(0,Z.jsxs)("li",{children:["Github: "+t.contacts.github,"        "]}):null,null!==t.contacts.youtube?(0,Z.jsxs)("li",{children:["youtube: "+t.contacts.youtube,"        "]}):null,null!==t.contacts.twitter?(0,Z.jsxs)("li",{children:["twitter: "+t.contacts.twitter,"        "]}):null]})]})]})]})}):(0,Z.jsx)(u.Z,{})},C=e(6070),F=e(2982),y=e(6139),I=e(704),S=e(8610),M=e(2031),U={postsBlock:"MyPosts_postsBlock__1TFap",NewPost:"MyPosts_NewPost__bphVH",addPostButton:"MyPosts_addPostButton__PXNot"},A="Post_post__Mdw4E",D="Post_user__Rc7pi",T="Post_Item__RNmys",B="Post_underPost__53WJt",X="Post_like__ig3wh",E=function(s){return(0,Z.jsxs)("div",{className:A,children:[(0,Z.jsxs)("div",{className:D,children:[(0,Z.jsx)("img",{src:"https://cdn1.flamp.ru/1ade70d2f2f936f3ced673e84d129204.jpg",alt:""}),(0,Z.jsxs)("span",{children:[s.Name,": "]})]}),(0,Z.jsx)("div",{className:T,children:s.message}),(0,Z.jsxs)("div",{className:B,children:["likes: ",s.likeCount,(0,Z.jsx)("div",{className:X,children:(0,Z.jsx)("img",{src:"https://pngicon.ru/file/uploads/like.png",alt:"",srcset:""})})]})]})},W=(0,S.DT)(100),J=(0,S.oQ)(2),L=(0,I.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,Z.jsxs)("form",{onSubmit:s.handleSubmit,className:U.NewPost,children:[(0,Z.jsx)(y.Z,{name:"newPostText",type:"text",component:M.gx,label:"Add your post here:",placeholder:"Enter your post",rows:"4",validate:[S.C1,W,J]}),(0,Z.jsx)("button",{className:U.addPostButton,children:"Add post"})]})})),O=l.memo((function(s){var t=(0,F.Z)(s.postData).reverse().map((function(s,t){return(0,Z.jsx)(E,{message:s.message,likeCount:s.likeCount,Name:s.Name},t)}));return(0,Z.jsxs)("div",{className:U.postsBlock,children:[(0,Z.jsx)("h3",{children:"My posts"}),(0,Z.jsx)(L,{onSubmit:function(t){return s.addPost(t.newPostText)}}),(0,Z.jsx)("div",{className:U.posts,children:t})]})})),q=e(8687),Q=(0,q.$j)((function(s){return{postData:s.profilePage.postData}}),(function(s){return{addPost:function(t){s((0,C.Wl)(t))}}}))(O),G=function(s){return(0,Z.jsxs)("div",{className:c.profile,children:[(0,Z.jsx)("div",{className:c.main_pic_wrapper,children:(0,Z.jsx)("img",{className:c.main_pic,src:"https://i.pinimg.com/originals/74/e2/1b/74e21bec1bf0b8b2272cf1ee3e11677c.png",alt:""})}),(0,Z.jsx)(w,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus})," ",(0,Z.jsx)(Q,{})]})},R=e(1548),$=e(7781),V=e(5628),H=e(6871),K=function(s){(0,i.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),t.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.params.userId;s||(s=this.props.userId),s||this.props.navigate("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"render",value:function(){return this.props.isFetching?(0,Z.jsx)(u.Z,{message:"profile loading"}):(0,Z.jsx)(G,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))}}]),e}(l.Component),Y=(0,$.qC)((0,q.$j)((function(s){return{profile:s.profilePage.profile,isFetching:s.profilePage.isFetching,status:s.profilePage.status,userId:s.auth.userId}}),{getUserProfile:C.et,getUserStatus:C.Tq,updateUserStatus:C.OL}),V.E,(function(s){return function(t){return(0,Z.jsx)(s,(0,n.Z)((0,n.Z)({},t),{},{navigate:(0,H.s0)()}))}}),R.D)(K)},2031:function(s,t,e){e.d(t,{II:function(){return v},gx:function(){return g},Gr:function(){return b}});var n=e(1413),r=e(5987),o=(e(2791),"FormsControls_label__+ZF2O"),i="FormsControls_Textarea__x4-ya",a="FormsControls_errorTextarea__-hWr-",l="FormsControls_warningWrap__nGBQM",c="FormsControls_signPic__OUvnL",u="FormsControls_errorSpan__sv1BN",d="FormsControls_errorField__lwwdD",p=e(1720),f=e(6139),h=e(184),_=["input","meta","label","children"],m=["input"],x=["input"],j=function(s){s.input;var t=s.meta,e=t.touched,n=t.error,i=s.label,d=s.children,f=((0,r.Z)(s,_),e&&n);return(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:o,children:i}),(0,h.jsx)("div",{className:f?a:" ",children:d}),e&&n&&(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("img",{className:c,src:p,alt:""}),(0,h.jsx)("span",{className:u,children:n})]})]})},g=function(s){var t=s.input,e=(0,r.Z)(s,m);return(0,h.jsx)(j,(0,n.Z)((0,n.Z)({},s),{},{children:(0,h.jsx)("textarea",(0,n.Z)((0,n.Z)({className:i},t),e))}))},v=function(s){var t=s.input,e=(0,r.Z)(s,x);return(0,h.jsx)(j,(0,n.Z)((0,n.Z)({},s),{},{children:(0,h.jsx)("input",(0,n.Z)((0,n.Z)({className:i},t),e))}))},b=function(s,t,e,n,r,o,i,a,l){return(0,h.jsxs)("div",{className:s?d:"",children:[(0,h.jsx)(f.Z,{name:t,label:e,component:n,type:r,placeholder:o,autocomplete:i,validate:a})," ",l]})}},1548:function(s,t,e){e.d(t,{D:function(){return f}});var n=e(1413),r=e(5671),o=e(3144),i=e(136),a=e(2882),l=e(2791),c=e(8687),u=e(6871),d=e(184),p=function(s){return{isAuth:s.auth.isAuth}},f=function(s){var t=function(t){(0,i.Z)(l,t);var e=(0,a.Z)(l);function l(){return(0,r.Z)(this,l),e.apply(this,arguments)}return(0,o.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(s,(0,n.Z)({},this.props)):(0,d.jsx)(u.Fg,{to:"/login"})}}]),l}(l.Component);return(0,c.$j)(p)(t)}},8610:function(s,t,e){e.d(t,{C1:function(){return n},DT:function(){return r},oQ:function(){return o}});e(2791);var n=function(s){if(!s)return"Required"},r=function(s){return function(t){if(t&&t.length>s)return"Max length is ".concat(s," symbols")}},o=function(s){return function(t){if(t&&t.length<s)return"Min length is ".concat(s," symbols")}}},1720:function(s,t,e){s.exports=e.p+"static/media/sign4.0a02604f4a4a0e67d34f.jpg"}}]);
//# sourceMappingURL=173.0efadc44.chunk.js.map