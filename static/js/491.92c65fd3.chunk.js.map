{"version":3,"file":"static/js/491.92c65fd3.chunk.js","mappings":"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","sources":["webpack://gp-project/./src/components/Content/Dialogs/Dialogs.module.css?5cdb","components/Content/Dialogs/DialogItems/DialogItems.jsx","components/Content/Dialogs/MessageItems/MessageItems.jsx","components/common/Forms/AddMessageForm.jsx","components/Content/Dialogs/Dialogs.jsx","components/Content/Dialogs/DialogsContainer.jsx","webpack://gp-project/./src/components/common/FormsControls/FormsControls.module.css?eb50","components/common/FormsControls/FormsControls.js","hoc/withAuthRedirect.js","utils/validators.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Dialogs_wrapper__CyQQV\",\"dialogWindow\":\"Dialogs_dialogWindow__dxxPE\",\"dialogs\":\"Dialogs_dialogs__PlHgS\",\"dialog\":\"Dialogs_dialog__2a6kQ\",\"user\":\"Dialogs_user__ME2vU\",\"active\":\"Dialogs_active__AEDqZ\",\"messages\":\"Dialogs_messages__47Nql\",\"message\":\"Dialogs_message__XQ66o\",\"userMessage\":\"Dialogs_userMessage__DmHzH\",\"activeM\":\"Dialogs_activeM__FKuFD\",\"addMessage\":\"Dialogs_addMessage__WDfZN\",\"onSendMessageClick\":\"Dialogs_onSendMessageClick__95tQw\",\"newMessageButton\":\"Dialogs_newMessageButton__z35tS\",\"NewMessagetTextarea\":\"Dialogs_NewMessagetTextarea__9C0GX\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport css from './../Dialogs.module.css';\r\n\r\n\r\n                        /* Выносим стрелочную функцию (работает как шаблон действий) */\r\n        const DialogItem = (props) => {\r\n            return (\r\n                <div>\r\n                    \r\n\r\n                  <NavLink className={({ isActive }) => (isActive ? (css.dialog + \" \" + css.active) : css.dialog)} to={'/dialogs/' + props.id}>\r\n                        <div className={css.user}>\r\n                            <img src=\"https://cdn1.flamp.ru/1ade70d2f2f936f3ced673e84d129204.jpg\" alt=\"\" />\r\n                            <span>{props.name}</span>\r\n                        </div>\r\n                    \r\n                </NavLink> \r\n\r\n                </div>\r\n                \r\n            )\r\n        }\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport css from './../Dialogs.module.css';\r\n\r\n\r\n                         /* Выносим стрелочную функцию (работает как шаблон действий) */\r\n        const MessageItem = (props) => {\r\n\r\n          \r\n\r\n            return (\r\n                \r\n                <div className={css.message}>\r\n                    <div >\r\n                    {/* <div className={({props.name}) => (props.name = \"Gennadij\" ? (css.message + \" \" + css.activeM) : css.message)}> */}\r\n                         \r\n\r\n                        <img src=\"https://cdn1.flamp.ru/1ade70d2f2f936f3ced673e84d129204.jpg\" alt=\"\" />\r\n                        <span className={css.userMessage}> {props.name} (ID{props.id}): </span>\r\n                        <div>- {props.text} </div>\r\n                          \r\n                    </div>\r\n                    \r\n                </div>\r\n            )\r\n        }   \r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator, minLengthCreator } from '../../../utils/validators';\r\nimport { Textarea } from '../FormsControls/FormsControls';\r\nimport css from './../../Content/Dialogs/Dialogs.module.css'\r\n\r\n\r\n\r\nconst maxLength15 = maxLengthCreator(15)\r\nconst minLength2 = minLengthCreator(2)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form className={css.onSendMessageClick} onSubmit={props.handleSubmit} >\r\n            <Field\r\n                name='newMessageText'\r\n                type='text'\r\n                label='Add your message'\r\n                component={Textarea}\r\n                rows='4' \r\n                placeholder='Enter your message' \r\n                validate={[required, maxLength15, minLength2]}\r\n                />\r\n            \r\n            <button className={css.newMessageButton} >Send message</button>\r\n\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default reduxForm({ form: 'dialogAddMessageForm' })(AddMessageForm)","import React from 'react';\r\nimport css from './Dialogs.module.css';\r\nimport DialogItem from './DialogItems/DialogItems';\r\nimport MessageItem from './MessageItems/MessageItems';\r\nimport AddMessageForm from '../../common/Forms/AddMessageForm';\r\n\r\n\r\n\r\n\r\n\r\n/* Выполнение UI (user Interface) */\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    /* Обработка массива, чтобы исключить повторения. */\r\n    /* Автоматически данные заносятся в новый массив из старого  */\r\n\r\n    let dialogElements = props.dialogsPage.dialogData.map(d => (<DialogItem key={d.id} id={d.id} name={d.name} />));\r\n    let messageElements = props.dialogsPage.messageData.map(m => (<MessageItem key={m.idMessage} id={m.id} name={m.name} text={m.text} />));\r\n\r\n\r\n    const addNewMessage = (value) => {\r\n        props.sendMessage(value.newMessageText);\r\n        // console.log(props.dialogsPage.messageData)\r\n    }\r\n\r\n    return (\r\n        <div className={css.wrapper} >\r\n            <h2> Dialog window</h2>\r\n\r\n            <div className={css.dialogWindow}>\r\n                <div className={css.dialogs}>\r\n                    Dialogs\r\n                    <p></p>\r\n                    {dialogElements}\r\n                </div>\r\n\r\n                <div className={css.messages}>\r\n                    Messages\r\n                    <p></p>\r\n                    {messageElements}\r\n                    <AddMessageForm onSubmit={addNewMessage} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Dialogs;","import { sendMessageActionCreator} from '../../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\n// import { connect } from 'react-redux/es/exports';\r\nimport { withAuthRedirect } from './../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        \r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newText) => {\r\n            dispatch(sendMessageActionCreator(newText))\r\n    },\r\n       \r\n        \r\n    }\r\n    }\r\n\r\n    /* HOC */\r\n// let AuthRedirectComponent = withAuthRedirect (Dialogs)\r\n\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"FormsControls_label__+ZF2O\",\"Textarea\":\"FormsControls_Textarea__x4-ya\",\"errorTextarea\":\"FormsControls_errorTextarea__-hWr-\",\"warningWrap\":\"FormsControls_warningWrap__nGBQM\",\"signPic\":\"FormsControls_signPic__OUvnL\",\"errorSpan\":\"FormsControls_errorSpan__sv1BN\",\"errorField\":\"FormsControls_errorField__lwwdD\"};","import React from \"react\";\r\nimport css from \"./FormsControls.module.css\";\r\nimport sign from \"../../../assets/images/sign4.jpg\"\r\nimport { Field } from \"redux-form\";\r\n\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, label, children, ...props }) => {\r\n    // debugger\r\n    const hasError = touched && error;\r\n    return (\r\n        <div >\r\n            <label className={css.label}>{label}</label>\r\n\r\n            <div className={(hasError ? css.errorTextarea : \" \")}>\r\n                {children}\r\n            </div>\r\n\r\n            {touched && error && \r\n            <div className={css.warningWrap}>\r\n                <img className={css.signPic} src={sign} alt=\"\" />\r\n                <span className={css.errorSpan}>{error}</span>\r\n            </div>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, ...restProps } = props;\r\n    return <FormControl {...props}><textarea className={css.Textarea} {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const { input, ...restProps } = props;\r\n    return <FormControl {...props}><input className={css.Textarea} {...input} {...restProps} /></FormControl>\r\n}\r\n\r\n\r\n\r\nexport const createField = (error, name, label, component, type, placeholder, autocomplete, validate, text) => (\r\n        <div className={error ? css.errorField : ''}>\r\n            <Field\r\n                name = {name}\r\n                label={label}\r\n                component={component}\r\n                type={type}\r\n                placeholder={placeholder}\r\n                autocomplete={autocomplete}\r\n                validate={validate}\r\n            /> {text}\r\n        </div>\r\n\r\n\r\n\r\n    )\r\n","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\n// import { connect } from 'react-redux/es/exports';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ( {\r\n        isAuth: state.auth.isAuth,\r\n    });\r\n\r\n    \r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    \r\n\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Navigate to='/login' /> \r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","import React from \"react\"\r\n\r\nexport const required = value => {\r\n    \r\n    if (value) return undefined;\r\n     return 'Required' ;\r\n    \r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    \r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => value => {\r\n    \r\n    if (value && value.length < minLength) return `Min length is ${minLength} symbols`;\r\n    return undefined;\r\n}"],"names":["props","className","isActive","css","to","id","src","alt","name","text","maxLength15","maxLengthCreator","minLength2","minLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","type","label","component","Textarea","rows","placeholder","validate","required","dialogElements","dialogsPage","dialogData","map","d","messageElements","messageData","m","idMessage","value","sendMessage","newMessageText","compose","connect","state","dispatch","newText","sendMessageActionCreator","withAuthRedirect","Dialogs","FormControl","input","meta","touched","error","children","hasError","sign","restProps","Input","createField","autocomplete","mapStateToPropsForRedirect","isAuth","auth","Component","RedirectComponent","this","React","maxLength","length","minLength"],"sourceRoot":""}